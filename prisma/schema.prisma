generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}


model Capybara{
  id Int @id @default(autoincrement())
  name String @db.VarChar(80)
  age Int
  weight Float
  status healthStatus
  habitat Habitat @relation(fields: [habitatId], references: [id])
  habitatId Int
  notes CapybaraNote[]
}

model Habitat{
  id Int @id @default(autoincrement())
  name String @db.VarChar(80)
  is_enable Boolean
  capybaras Capybara[]
}

model CapybaraNote{
  capybara Capybara @relation(fields: [capybaraId], references: [id])
  capybaraId Int
  note Note @relation(fields: [noteId], references: [id])
  noteId Int

  @@id([noteId, capybaraId])
}

model Note{
  createdAt DateTime @default(now())
  id Int @id @default(autoincrement())
  comportament String? @db.VarChar(255)
  observations String? @db.VarChar(255)
  Capybaras CapybaraNote[]
}

enum healthStatus{
  HEALTHY
  NEED_CARE
  DIED
}